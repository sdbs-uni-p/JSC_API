{
	"info": {
		"_postman_id": "25d6a9ab-58bd-463a-ad60-2b74041898ce",
		"name": "YetAnotherWitnessAPI",
		"description": "# Yet another witness API\nA REST API for checking JSON Schema Containment and for generating JSON Schema Witnesses.\n\n## Documentation\nPlease see [Github repository JSC_API](https://github.com/sdbs-uni-p/JSC_API) for detailed documentation.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Compare schemas",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"//-------------------------------------",
							"// Pre-request script to fill JSON body using the {{body}} Postman local variable conveniently. ",
							"// ",
							"// This JavaScript code will be run by Postman before the request is acutally sent to the server.",
							"// It allows you to conveniently specify the JSON Schemas you want to compare as values for the two variables \"leftSchema\" and \"rightSchema\".",
							"// Furthermore it will automatically convert the schemas and request body into the correct format to form a valid request.",
							"// Using the Postman console (\"Console\"-Button on the bottom of your screen) you are able to see the actual Reqeust/ Response headers and bodies.",
							"// Inspecting the request body with this method will show you the result of this pre-request script.",
							"//-------------------------------------",
							"",
							"// Log start of pre-request script to Postman console",
							"console.info(\"Running pre-request script for endpoint /compareSchemas...\");",
							"",
							"//-------------------------------------",
							"// Define your input schema here",
							"//-------------------------------------",
							"const leftSchema = { const: 123 };",
							"const rightSchema = { const: 124 };",
							"",
							"// DO NOT MODIFY ",
							"// Defining body structure",
							"const body = {",
							"    leftSchema: JSON.stringify(leftSchema),",
							"    rightSchema: JSON.stringify(rightSchema)",
							"}",
							"",
							"// Log body",
							"console.info(\"Request body generated by pre-request script.\", body); ",
							"",
							"// Set postgres variable to stringified body",
							"pm.variables.set(\"body\", JSON.stringify(body))",
							"",
							"// Log end of pre-request script",
							"console.info(\"Pre-request script for endpoint /compareSchemas finished.\");"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Connection",
						"value": "keep-alive"
					},
					{
						"key": "sec-ch-ua",
						"value": "\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "sec-ch-ua-mobile",
						"value": "?0"
					},
					{
						"key": "User-Agent",
						"value": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.85 Safari/537.36"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Origin",
						"value": "http://localhost:8080"
					},
					{
						"key": "Sec-Fetch-Site",
						"value": "same-origin"
					},
					{
						"key": "Sec-Fetch-Mode",
						"value": "cors"
					},
					{
						"key": "Sec-Fetch-Dest",
						"value": "empty"
					},
					{
						"key": "Referer",
						"value": "http://localhost:8080/"
					},
					{
						"key": "Accept-Language",
						"value": "en-US,en;q=0.9,de;q=0.8"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{{body}}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{host}}/compareSchemas",
					"host": [
						"{{host}}"
					],
					"path": [
						"compareSchemas"
					]
				},
				"description": "# Endpoint: Compare schemas\nCompare two JSON Schemas regarding their relationship.\nYou may use the Pre-request script and the postman {{body}} variable to populate the request body.\n\n## Documentation\nPlease see [Github repository](https://github.com/sdbs-uni-p/JSC_API/blob/main/COMPARE_SCHEMAS.md) for detailed documentation of this endpoint."
			},
			"response": []
		},
		{
			"name": "Generate (yet another) witness",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"//-------------------------------------",
							"// Pre-request script to fill JSON body using the {{body}} Postman local variable conveniently. ",
							"// ",
							"// This JavaScript code will be run by Postman before the request is acutally sent to the server.",
							"// It allows you to conveniently specify the JSON Schema (and witnesses) you want to generate (yet another) witness for as values for the variables \"input\" (= JSON Schema) and \"previousWitnesses\" (= Array of previous witnesses).",
							"// Furthermore it will automatically convert the schemas and request body into the correct format to form a valid request.",
							"// Using the Postman console (\"Console\"-Button on the bottom of your screen) you are able to see the actual Reqeust/ Response headers and bodies.",
							"// Inspecting the request body with this method will show you the result of this pre-request script.",
							"//-------------------------------------",
							"",
							"// Log start of pre-request script to Postman console",
							"console.info(\"Running pre-request script for endpoint /generateWitness...\");",
							"",
							"// Array to hold previous witnesses",
							"const previousWitnesses = [];",
							"",
							"//-------------------------------------",
							"// Define your input schema here",
							"//-------------------------------------",
							"const input = { const: 123 };",
							"",
							"//-------------------------------------",
							"// Define previous witnesses here",
							"//-------------------------------------",
							"// Assuming the first request returned \"123\" as the stringified witness, then there are two ways to procede.",
							"// - Work with witness: parse the witness to get the \"real\" witness 123 (a number not a string) and do whatever needs to be done",
							"// - Use it to send the next request: stringify the parsed witness again or just use the returned string from the first response",
							"",
							"// Just for demo purposes parse and stringify again.",
							"// const witness0 = JSON.stringify(JSON.parse(\"123\"));",
							"",
							"// Push all previous witnesses on to array here",
							"// previousWitnesses.push(witness0);",
							"",
							"// DO NOT MODIFY",
							"// Defining body structure",
							"const body = {",
							"    input: JSON.stringify(input),",
							"    previousWitnesses: previousWitnesses",
							"}",
							"",
							"// Log body",
							"console.info(\"Request body generated by pre-request script.\", body); ",
							"",
							"// Set postgres variable to stringified body",
							"pm.variables.set(\"body\", JSON.stringify(body))",
							"",
							"// Log end of pre-request script",
							"console.info(\"Pre-request script for endpoint /generateWitness finished.\");"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"description": "JSON is sent",
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					},
					{
						"key": "",
						"type": "text",
						"value": "",
						"disabled": true
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{{body}}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{host}}/generateWitness",
					"host": [
						"{{host}}"
					],
					"path": [
						"generateWitness"
					]
				},
				"description": "# Endpoint: Generate (yet another) witness\nGenerate a witness for a given JSON Schema. If unprecedented witnesses should be generated already generated witnesses have to be provided as string within the previousWitnesses array.\nYou may use the Pre-request script and the postman {{body}} variable to populate the request body.\n\n## Documentation\nPlease see the [Github repository](https://github.com/sdbs-uni-p/JSC_API/blob/main/GENERATE_WITNESS.md) for detailed documentation."
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "host",
			"value": "https://yetanotherwitness.ey.r.appspot.com"
		}
	]
}